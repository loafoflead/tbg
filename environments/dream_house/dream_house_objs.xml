<dream_house_objs>

    <!-- **BEDROOM**  _/ -->
    <obj>

        <tag>dream_bedroom_desk</tag>
        <name>Dream desk</name>

        <verbs>gen/gen_furniture/</verbs>
        <action>
            give(dream_house_key);
        </action>
        <action_dia>You rummage through your desk, and find your house key.</action_dia>

        <item_req></item_req>
        <item_dia></item_dia>
        <tag_req></tag_req>
        <tag_dia></tag_dia>

        <tag_given></tag_given>
        
        <one_time_use>1</one_time_use>
        <used_dialogue>You rummage through your desk again, finding nothing.</used_dialogue>

        <aliases>desk/bedroom desk/dream desk</aliases>

    </obj>
    <obj>

        <tag>dream_cupboard</tag>
        <name>Dream cupboard</name>

        <verbs>gen/open/rummage through/look through/look into/look in/open the</verbs>
        <action>
            if(tag=red_hat_equipped)
                [
                    print(There's a grey hat in the cupboard. You don't want to touch it.);
                ]
            ?
                [
                    givetag(grey_hat_equipped);
                    print(&lt;{DarkGreen}Item equipped {DarkYellow}-&gt; {Red}Red hat{White}&gt;); 
                ]
        </action>
        <action_dia></action_dia>

        <item_req></item_req>
        <item_dia></item_dia>
        <tag_req></tag_req>
        <tag_dia></tag_dia>

        <tag_given></tag_given>
        
        <one_time_use>1</one_time_use>
        <used_dialogue>You rummage through your cupboard again, finding nothing.</used_dialogue>

        <aliases>cupboard/the cupboard/my cupboard/dream cupboard/my dream cupboard</aliases>

    </obj>
    <obj>

        <tag>dream_bed</tag>
        <name>Dream bed</name>

        <verbs>gen/lie on/sit on/rest on/rest/lie upon/sleep on/gen_furniture</verbs>
        <action>
            if(fun=1)
            [
                print(You lie on your bed, you feel a little sleepy. You start to drift off.);
                flush();
                wait(2);
                print(You wake up, everything looks bright and oversaturated.);
                env(house);
                run(replace_dream_items);
            ]
                ?
            [
                print(You lie on your bed for a minute. You don't feel very sleepy. You get up again.);
            ]
        </action>
        <action_dia></action_dia>

        <item_req></item_req>
        <item_dia></item_dia>
        <tag_req></tag_req>
        <tag_dia></tag_dia>

        <tag_given></tag_given>
        
        <one_time_use>0</one_time_use>
        <used_dialogue></used_dialogue>

        <aliases>bed/the bed/my bed/dream bed/my dream bed</aliases>

    </obj>

    <!--  **SIBLING ROOM** _/ -->
    <obj>

        <tag>dream_sibling_cupboard</tag>
        <name>Cupboard</name>

        <verbs>gen/open/rummage through/look through/look into/look in/open the/gen_furniture</verbs>
        <action>
            givetag(saw_beast);
        </action>
        <action_dia>You open the creaky door of your sibling's cupboard... you stare in disbelief. There's a person in there, with their back to you. They look more like a shadow than a person. You slam the cupboard shut again, and stand back from it.</action_dia>

        <item_req></item_req>
        <item_dia></item_dia>
        <tag_req></tag_req>
        <tag_dia></tag_dia>

        <tag_given></tag_given>
        
        <one_time_use>1</one_time_use>
        <used_dialogue>You don't want to get anywhere near that cupboard again.</used_dialogue>

        <aliases>cupboard/the cupboard/their cupboard</aliases>

    </obj>

    <!--  **DOWNSTAIRS HALL** _/  -->
    <obj>

        <tag>dream_mirror</tag>
        <name>Mirror</name>

        <verbs>gen/look into/look at/look/observe/approach the/approach</verbs>
        <action>
            if(tag=looked_into_mirror)
                [
                    null(poopie);
                ]
            ?
                [
                    givetag(looked_into_mirror);
                ]
        </action>
        <action_dia>You look into the mirror. It looks painfully bright in there.</action_dia>

        <item_req></item_req>
        <item_dia></item_dia>
        <tag_req></tag_req>
        <tag_dia></tag_dia>

        <tag_given></tag_given>
        
        <one_time_use>0</one_time_use>
        <used_dialogue></used_dialogue>

        <aliases>mirror/the mirror/dream mirror/the dream mirror</aliases>

    </obj>
    <obj>

        <tag>dream_dresser</tag>
        <name>Downstairs dresser</name>

        <verbs>gen/approach the/approach/search/look through/search through</verbs>
        <action>
            give(dream_old_photograph);
        </action>
        <action_dia>You rummage through the dresser, you find an old photograph. You pocket it.</action_dia>

        <item_req></item_req>
        <item_dia></item_dia>
        <tag_req></tag_req>
        <tag_dia></tag_dia>

        <tag_given></tag_given>
        
        <one_time_use>1</one_time_use>
        <used_dialogue>You rummage through the dresser again, finding nothing.</used_dialogue>

        <aliases>dresser/the dresser/downstairs dresser</aliases>

    </obj>

    <!-- BATHROOM _/  -->

    <obj>

        <tag>dream_bath</tag>
        <name>Dream bath</name>

        <verbs>gen/lie in/enter/enter the</verbs>
        <action>
            print(You feel the world swirl around you again.);
            clr();
            env(dream_house);
            set_room(dream_bathroom);
            run(replace_dream_items);
        </action>
        <action_dia>You lie in the bath. You sit in it for a second or two, waiting. After a few more seconds of waiting, the memories assault you.</action_dia>

        <item_req></item_req>
        <item_dia></item_dia>
        <tag_req></tag_req>
        <tag_dia></tag_dia>

        <tag_given>dreamy_bath</tag_given>
        
        <one_time_use>0</one_time_use>
        <used_dialogue></used_dialogue>

        <aliases>bath/the bath/bathroom bath</aliases>

    </obj>
    <obj>

        <tag>dream_sink</tag>
        <name>Bathroom sink</name>

        <verbs>gen/wash in/wash up/clean/clean the/gen_furniture</verbs>
        <action>
            if(tag!=clean_handies) [
                givetag(clean_handies);
            ] ? [null();]
        </action>
        <action_dia>You wash your hands.</action_dia>

        <item_req></item_req>
        <item_dia></item_dia>
        <tag_req></tag_req>
        <tag_dia></tag_dia>

        <tag_given></tag_given>
        
        <one_time_use>0</one_time_use>
        <used_dialogue></used_dialogue>

        <aliases>sink/bathroom sink/the sink/dream sink</aliases>

    </obj>

    <!-- DREAM ATTIC _/ -->


    <!-- GARAGE  -->

    <obj>

        <tag>dream_light_switch_garage</tag>
        <name>Light switch</name>

        <verbs>gen/flick on/turn on/flick the/flick/press/press the/press on/click the/click/click on</verbs>
        <action>
            null();
        </action>
        <action_dia>You flick the button, but nothing happens. You won't be able to leave the house this way.</action_dia>

        <item_req></item_req>
        <item_dia></item_dia>
        <tag_req></tag_req>
        <tag_dia></tag_dia>

        <tag_given></tag_given>
        
        <one_time_use>0</one_time_use>
        <used_dialogue></used_dialogue>

        <aliases>door switch/the switch/button/light switch/door button/garage door/garage button/garage switch/dream switch</aliases>

    </obj>
    <obj>

        <tag>dream_garage_shelves</tag>
        <name>Dream garage shelves</name>

        <verbs>gen/gen_furniture</verbs>
        <action>
            if(value_exists!=times_searched) [

                add_value(times_searched:1);
                print(You rifle through the shelves, after a while you get bored and stop.);

            ]   ?   [

                if(times_searched=1) [

                    print(You look through the shelves again, but once again find your attention drifting.); 
                    inc(times_searched:1); 

                ]   ?   [

                    if(times_searched=2) [
                        print(You rummage through the shelves  a g a i n, but you find yourself getting bored and stopping.);
                        inc(times_searched);
                    ]   ?   [

                        if(times_searched=3) [
                            print(You look through the shelves a final time, you find something!);
                            remove_value(times_searched);
                            give(acoustic_hammer);
                        ]

                    ]
                ]
            ]
        </action>
        <action_dia></action_dia>

        <item_req></item_req>
        <item_dia></item_dia>
        <tag_req></tag_req>
        <tag_dia></tag_dia>

        <tag_given></tag_given>
        
        <one_time_use>0</one_time_use>
        <used_dialogue></used_dialogue>

        <aliases>shelves/garage shelves/shelf/garage shelf</aliases>

    </obj>


    <!-- KITCHEN  -->

    <obj>

        <tag>dream_kitchen_cupboard</tag>
        <name>Dream kitchen cupboard</name>

        <verbs>gen/gen_furniture</verbs>
        <action>
            if(tag=hurt_knee) [
                print(You open the kitchen cupboard, feeling a little worried. Nothing exciting happens, dusty plates are neatly stacked in the cupboard.);
            ]   ?   [
                print(You open the cupboard, There are neatly stacked plates inside.);
            ]
        </action>
       
        <one_time_use>1</one_time_use>
        <used_dialogue>You open the cupboard again, finding nothing of interest.</used_dialogue>

        <aliases>kitchen cupboard/cupboard/kitchen counter/dream kitchen cupboard/dream cupboard</aliases>

    </obj>

    <!-- DREAM BACK GARDEN -->
    <obj>

        <tag>dream_birdbath</tag>
        <name>Dream birdbath</name>

        <verbs>gen/gen_furniture/drink from</verbs>
        <action>
            print(You approach the birdbath. It's full almost to overflowing, but not with water, with some kind of black liquid, like oil.);
            if(tags=clean_handies) [
                print(You decide not to dip your clean hands into the strange substance.);
            ]
            ? [
                print(You put one finger into the oily substance. It didn't feel liquid it all, it was like putting your hand into a cloud. You pull it out again, and notice your hand is covered in a thin black film.);
                givetag(dirty_handies);
            ]
        </action>
       
        <one_time_use>1</one_time_use>
        <used_dialogue>You examine the birdbath again, finding nothing, but moving closer to the birdbath you notice a rough iron gate west of you.</used_dialogue>

        <aliases>birdbath/dream bath/dream birdbath/bath</aliases>

    </obj>

    <!-- THE BEAST !!!! -->
    <obj>

        <tag>the_beast</tag>
        <name>bëast</name>

        <verbs>gen/talk to/speak to/attack/punch/kick/shoot/burn/kill/destroy</verbs>
        <action>
            if(inv!dream_house_key) [

                print(You approach the beast nervously, you hope you can maybe work this out with the creature.);
                say(Uh, hello?);
                print(You say.);
                flush();
                wait(2);
                print(The beast doesn't react. You move closer to it. Suddenly it spins around to face you. You notice an unsettling lack of facial features on the creature. You can see the key gripped in its hand, standing out against the dark backdrop of the monster. There's a pause so long it's almost awkward, then the beast lunges at you.);
                print({Red}OW!!!!!!!!!!!!);
                flush();
                wait(1);
                print(The monster scratches you with a long claw.);
                decrement(health);
                print(You jump away from the creature in shock.);
                flush();
                if(inv=dream_gun) [
                    print(You pull out your toy gun, noticing that it feels a lot heavier in the dream, and fire at the beast.);
                    flush();
                    emu(/border !);
                    clear();
                    flush();
                    wait_key();
                    print({DarkRed}bang);
                    flush();
                    waitk();
                    emu(/border █);
                    clear();
                    print(The house key is on the floor in a pool of something that looks like oil. You lift the key from the muck.);
                    give(dream_house_key);
                    givetag(defeated_beast);
                ]   ?   [
                    print(The beast lunged at you. You're certain it killed you, but you wake up in your bed a moment later.);
                    load_env(house);
                    setroom(bedroom);
                    wait(3);
                    say(Crap.);
                ]

            ]   ?   [
                print(The beast is gone.);
            ]
        </action>


        <aliases>beast/the beast/the creature/creature/monster/the monster/thing/guy</aliases>

    </obj>

    <!--  **MAGIC_PORTAL**  -->
    <obj>

        <tag>magic_portal</tag>
        <name>Magic Portal</name>

        <verbs>use/examine/approach/enter/punch</verbs>
        <action>say(hi #name#, you stinky lol);
                remove_value(poop);
                add_value(poop:1);
                inc(poop);
        </action>
        <action_dia>you move through the magic portal</action_dia>

        <item_req>magic_wand</item_req>
        <item_dia>you try and go through, but it doesnt exist yet</item_dia>
        
        <one_time_use>0</one_time_use>

        <aliases>portal/magic portal</aliases>

    </obj>
    
</dream_house_objs>